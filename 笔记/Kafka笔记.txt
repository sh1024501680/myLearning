一、概念
	1. kafak是一个分布式发布-订阅模式的消息服务工具，依赖于zookeeper进行工作。
	使用消息队列的好处：
		1)解耦
		  允许对立的扩展或修改两边的处理过程,只要确保它们遵守同样的接口约束
		2)可恢复性
		  系统的每一部分组件失效时,不会影响到整个系统.消息队列降低了进程间的耦合度,
		  所以既是一个处理消息的进程挂掉,加入队列中的消息仍然可以在系统恢复后被处理
		3)缓冲
		  有利于控制和优化数据流经过系统的速度,解决生产消息和消费消息的处理速度
		  不一致的情况
		4)灵活性&峰值处理能力
		  在访问量剧增的情况下,应用仍然需要继续发挥作用,但是这样的突发流量并不常见.
		  以处理这类峰值访问为标准投入资源随时待命是巨大的浪费,使用消息队列能够使关键
		  组件顶住突发的访问压力,而不会因为超负荷的请求而完全崩溃
		5)异步通信
		  消息队列提供了异步处理机制，允许用户把一个消息放入队列但不立即处理，需要的时候再处理
	2.Producer：消息生产者，想kafka发信息的客户端
	  consumer：消息消费者，向kafka broker取消息的客户端
	  consumer group：消费者组，由多个consumer组成
			组内每个消费者消费不同分区数据
			一个分区只能组内一个消费者消费
			消费者组之间不受影响
	  broker：Kafka集群中的每一个服务器都是一个Broker，消费者将从broker拉取
			订阅的消息。一个broker可以容纳多个topic。
	  topic：可以理解为一个队列，生产者和消费者面向的都是一个队列
	  partition：一个topic可以分为多个topic，每个partition都是一个有序的队列
	  replication：副本
	  
	**同一个分区数据,只能被同一个消费者组里的一个消费者消费(同一个消费者组的不同消费者消费不同分区数据提高效率)
	  0.9版本之前偏移量存储在zk,之后版本存储在kafka本地主题
二、kafka命令行操作
	1.kafka-topics.sh
	bin/kafka-topics.sh --list --zookeeper hadoop101:2182    列出当前集群所以主题
	bin/kafka-topics.sh --create --zookeeper hadoop101:2181 --topic first --partitions 2 --replication-factor 2  创建一个名为 first 的分区数为2副本数为2的主题
	bin/kafka-topics.sh --delete --zookeeper hadoop101:2181 --topic first 删除一个主题(delete.topic.enable属性为true才会真正删除，不为true则标记删除)
	bin/kafka-topics.sh --describe --zookeeper hadoop101:2181 --topic first 描述主题
	2.生产者消费者(控制台)
	bin/kafka-console-producer.sh --topic first --broker-list hadoop101:9092  开启一个生产者
	bin/kafka-console-consumer.sh --topic first --bootstrap-server hadoop101:9092 [--from-beginning] [从最小偏移量消费]消费一个主题(连接bootstrap会创建本地主题保存偏移量)
	
	
	
	
	